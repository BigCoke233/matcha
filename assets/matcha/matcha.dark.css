@charset 'utf-8';

/**
 * matcha.dark.css
 * 夜间模式
 */

body.matcha-dark {
    --theme-color: #009999; /*rgb(0, 153, 153)*/
    --text-color: #ddd;
    --text-gray: #aaa;
    --light-bg: rgba(255,255,255,.05);
    --gray-bg: rgba(255,255,255,.2);
    --light-gray-bg: rgba(255,255,255,.02);
    --overlay-bg: rgba(0,0,0,.95);
    --white-or-black: #000;

    background: #181818;
    color: #ddd
}

body.matcha-dark .container {
    background: #232323
}

/* 深色背景 */
body.matcha-dark #comment-form .textarea,
body.matcha-dark #comment-form input:not(.submit-extra input),
body.matcha-dark #search input {
    color: #ddd;
    background: #181818;
}

body.extrasimple.matcha-dark {
    background: var(--white-or-black)
}

body.matcha-dark .small-header.shrink {
	background: rgba(10,10,10,.7);
}

/* 去除背景 */
body.matcha-dark .post-content pre code {
    background: transparent
}

/* 深色蒙层 */
body.matcha-dark img,
body.matcha-dark iframe {
    -webkit-filter: brightness(80%);
    filter: brightness(80%)
}

/**
 * 特殊元素的处理
 */
/* BracketDown */
body.matcha-dark .bracketdown-block{
    color: rgb(0, 120, 120);
    background: rgb(0,50,50,.1);
}
body.matcha-dark .bracketdown-block::before {
    background: rgba(0, 153, 153, .9)
}

body.matcha-dark .post-content [data-github] {
    background: var(--light-bg)
}

body.matcha-dark .bigfoot-footnote__content,
body.matcha-dark .bigfoot-footnote__wrapper,
body.matcha-dark .bigfoot-footnote__tooltip {
    background: #333;
}
body.matcha-dark .bigfoot-footnote__wrapper::before,
body.matcha-dark .bigfoot-footnote__wrapper::after {
    display: none
}
/* Comment */
body.matcha-dark #comment-form .textarea, 
body.matcha-dark #comment-form input:not(.submit-extra input),
body.matcha-dark .protected input {
	border: 2px solid var(--gray-bg);
}
/* Post */
body.matcha-dark .post-content pre,
body.matcha-dark .post-content pre code {
    text-shadow:0 1px rgba(0,0,0,.05)
}
/* Sidebar */
body.matcha-dark .header {
    background: var(--light-gray-bg)
}
/* Header */
body.matcha-dark .small-header button.navbar-button:hover {
	background: var(--gray-bg)!important
}
/* Table */
body.matcha-dark table td,
body.matcha-dark table th {
    border-color: #444
}
/* Related Links */
body.matcha-dark .indexlink-item {
    border-color: #333
}
body.matcha-dark .indexlink-item:hover {
    border-color: var(--theme-color)
}

/**
 * Cap 人机验证黑暗模式适配
 */
body.matcha-dark cap-widget {
    /* 核心颜色变量 */
    --cap-background: #2a2a2a;  /* 深灰色背景，介于页面和容器背景之间 */
    --cap-color: #ddd;          /* 浅色文字，与主题文字颜色一致 */
    --cap-spinner-color: #009999;  /* 使用主题色作为加载动画颜色 */
    --cap-spinner-background-color: #333;  /* 深色加载背景 */
    
    /* 验证成功状态的颜色 - 使用主题色的深色版本作为背景 */
    --cap-success-background: rgba(0, 153, 153, 0.15);  /* 主题色的半透明背景 */
    --cap-success-color: #00cccc;  /* 更亮的主题色作为勾的颜色 */
    
    /* 添加过渡效果，使切换更平滑 */
    transition: all 0.3s ease;
}

/* Cap 验证码按钮样式（如果有的话） */
body.matcha-dark cap-widget::part(button) {
    background-color: var(--light-bg);
    color: var(--text-color);
    border-color: #444;
}

body.matcha-dark cap-widget::part(button):hover {
    background-color: var(--gray-bg);
    border-color: #555;
}

/* Cap 验证码容器边框（如果需要） */
body.matcha-dark cap-widget {
    border-color: #444;
}